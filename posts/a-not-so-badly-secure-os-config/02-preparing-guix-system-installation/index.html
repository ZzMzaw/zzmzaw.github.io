<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://zzmzaw.github.io name=base><title>ZzMzaw's blog • Preparing for Guix System installation</title><link title="ZzMzaw's blog - Atom Feed" href=https://zzmzaw.github.io/atom.xml rel=alternate type=application/atom+xml><link href="https://zzmzaw.github.io/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://zzmzaw.github.io/main.css?h=4a3dff148c520f191505" rel=stylesheet><link href="https://zzmzaw.github.io/misc.css?h=9b0f483dae9c0c16a211" rel=stylesheet><link href="https://zzmzaw.github.io/cc.css?h=47dd58492ac53967cae5" rel=stylesheet><link href="https://zzmzaw.github.io/series.css?h=e60f43ddd4c582055a83" rel=stylesheet><link href="https://zzmzaw.github.io/skins/lavender.css?h=31ee0a710ed660d122f6" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="How to be ready to install Guix System on a laptop, from checking hardware to preparing the installation media" name=description><meta content="How to be ready to install Guix System on a laptop, from checking hardware to preparing the installation media" property=og:description><meta content="Preparing for Guix System installation" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale:alternate><link href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/ hreflang=en rel=alternate><meta content=fr_FR property=og:locale:alternate><link href=https://zzmzaw.github.io/fr/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/ hreflang=fr rel=alternate><meta content=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/ property=og:url><meta content="ZzMzaw's blog" property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self';connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://zzmzaw.github.io/no_js.css rel=stylesheet></noscript><script src=https://zzmzaw.github.io/js/initializeTheme.min.js></script><script defer src=https://zzmzaw.github.io/js/themeSwitcher.min.js></script><script src="https://zzmzaw.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://zzmzaw.github.io>ZzMzaw's blog</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/posts/> posts </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/archive/> archive </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/tags/> tags </a></li><div class=nav-navs id=menu-icons-group><li class=js><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class=language-switcher><details class=dropdown><summary aria-label="Language selection" title="Language selection" aria-haspopup=true role=button><div class=language-switcher-icon></div></summary> <div class=dropdown-content role=menu>English<a aria-label=Français href=https://zzmzaw.github.io/fr/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/ lang=fr role=menuitem>Français</a></div></details><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Preparing for Guix System installation</h1><ul class=meta><li>19th Jan 2025<li title="2027 words"><span aria-hidden=true class=separator>•</span>11 min read<li class=tag><span aria-hidden=true class=separator>•</span>Tags: <li class=tag><a href=https://zzmzaw.github.io/tags/os/>os</a>, <li class=tag><a href=https://zzmzaw.github.io/tags/guix/>guix</a></ul><section class=body><section class=series-page-intro><div><details><summary>This article is the second of the series: <a aria_label="A not-so-badly secure OS config" href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/>A not-so-badly secure OS config</a></summary> <ol><li><a aria_label="Choosing an OS according to expectations and security threats" href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/01-choosing-the-os/>Choosing an OS according to expectations and security threats</a><li>Preparing for Guix System installation</ol></details></div><p>In <a aria_label="Choosing an OS according to expectations and security threats" href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/01-choosing-the-os/>the previous article of this series</a>, we have chosen Guix System as a new operating system.<p>Now, we will see how to prepare its installation.</section><p><a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/ target=_blank>Guix documentation</a> is pretty well organized and complete. It exists in multiple languages and formats.<p>The interesting point is that it contains <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/System-Installation.html target=_blank>a whole section on how to install Guix System</a>.<p>Before starting, I strongly advise reading the <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/Limitations.html target=_blank>limitations</a> and <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/Hardware-Considerations.html target=_blank>hardware considerations</a>. Guix strictly adhere to the "Free Software Definition" <sup class=footnote-reference id=fr-1-1><a href=#fn-1>[1]</a></sup>. This means any non-free software won't be supported nor even considered worth discussing. This point of view must be respected when interacting with teams maintaining Guix.<p>Nevertheless, adding support for non-free software is possible. For Guix, it is mostly done thanks to <a rel="noopener nofollow noreferrer" href=https://gitlab.com/nonguix/nonguix target=_blank>the Nonguix repository</a>.<p>I would not be able to run Guix System on my laptop otherwise. I bought it a couple of years ago when I was far less aware about Free Software, but it is still working well until now. Consequently, I don't want to replace it yet.<h1 id=hardware-considerations><a aria-label="Anchor link for: hardware-considerations" class="header-anchor no-hover-padding" href=#hardware-considerations><span aria-hidden=true class=link-icon></span></a> Hardware considerations</h1><p>Before going further, I want to know better the laptop I have in order to make sure it will be able to support what I want to do. This paragraph will be updated according to all future articles to have one single place where all hardware requirements are listed to reach the end of the series.<p>I currently use an ASUS Notebook UX330U with a Core i7 7500 as CPU, 8GB of RAM and about 500GB of SSD storage. Linux is already installed on it, so I know compatibles drivers exist for the most important hardware components.<h2 id=will-it-work-with-free-software-only><a aria-label="Anchor link for: will-it-work-with-free-software-only" class="header-anchor no-hover-padding" href=#will-it-work-with-free-software-only><span aria-hidden=true class=link-icon></span></a> Will it work with free software only?</h2><p>There is no chance that such an old laptop provided by a commercial brand such as Asus will be certified by the <a rel="noopener nofollow noreferrer" href=https://ryf.fsf.org/ target=_blank>Respect Your Freedom program</a>. If you're looking for a new laptop, it might be a good starting point, even if the laptop list is rather limited for now. The vendors' list can be used to browse more products and jump to others similar vendors. <a rel="noopener nofollow noreferrer" href=https://minifree.org/ target=_blank>Minifree Ltd</a>, not listed there at the time of writing, is worth mentioning even if I never used any of their product myself. Best solution for those who want to buy a new laptop to install Guix System on remains to browse the Internet with your favorite search engine and look for recent people feedbacks about it.<p>If, like me, you already have a laptop, you can <a rel="noopener nofollow noreferrer" href=https://www.h-node.org/search/form/en target=_blank>search h-node</a> to check how much it is compatible with free software.<div class=full-width><figure><img alt="The h-node search page" loading=lazy src=img/h-node-search.en.webp><figcaption>The h-node search page</figcaption></figure></div><p>Using the search capabilities is pretty straightforward:<ul><li>Just copy and paste the output of <code>lspci -vmmnn</code> in the <em>analyze the output of the lspci command</em> (as explained on the page) and it will list what has been identified and if it is compatible. You can still click on the model name to get more details.<li>Just copy and paste the <code>&LTvendorid>:&LTproductid></code> from the output of <code>lsusb</code> in the <em>search by vendorid:productid</em> and it will let you know if it is in h-node database. Clicking on the model name gives you the details and if it is compatible.</ul><p>Doing so, you can verify supports for Wi-Fi adapter, USB controller, Bluetooth interface, Webcam, Fingerprint reader, ...<p>Wi-Fi adapter and USB controllers are particularly important to check as you'll need network during the installation to download packages. Everything else can be fixed after the installation if Linux compatible drivers exist.<p>Anyway, the Guix System installer warns you in case it detects devices lacking of free firmware or free drivers.<p>In my case, I already know that the Wi-Fi adapter is not compatible with free software:<div class=full-width><figure><img alt="The h-node lspci search result showing my Wi-Fi adapter is not free-compatible" loading=lazy src=img/h-node-lspci-search-result.en.webp><figcaption>The h-node lspci search result showing my Wi-Fi adapter is not free-compatible</figcaption></figure></div><p>Nevertheless, I have a USB Ethernet adapter which is compatible:<div class=full-width><figure><img alt="The h-node lsusb search result showing my USB Ethernet adapter is free-compatible" loading=lazy src=img/h-node-lsusb-search-result.en.webp><figcaption>The h-node lsusb search result showing my USB Ethernet adapter is free-compatible</figcaption></figure></div><p>I planned to use it anyway during the installation, as Ethernet is faster than Wi-Fi at my place.<h1 id=preparation-of-the-installation-media><a aria-label="Anchor link for: preparation-of-the-installation-media" class="header-anchor no-hover-padding" href=#preparation-of-the-installation-media><span aria-hidden=true class=link-icon></span></a> Preparation of the installation media</h1><p>The preparation of the installation media is made simple by following the section dedicated to <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/USB-Stick-and-DVD-Installation.html target=_blank>USB stick and DVD installation</a> from the Guix manual.<p>We can sum it up in 2 steps:<ol><li>Get the installation image<li>Copy it to a USB stick</ol><h2 id=get-the-installation-image><a aria-label="Anchor link for: get-the-installation-image" class="header-anchor no-hover-padding" href=#get-the-installation-image><span aria-hidden=true class=link-icon></span></a> Get the installation image</h2><p>There are multiple ways to retrieve a Guix System installation image. Choosing the method you trust more is up to you according to your threat model. Personally, I preferred the official one, as I had an alternative to the incompatible Wi-Fi adapter.<p>An OS image downloaded from the Internet should only be used after signature verification to make sure it has not been tampered with since it has been generated. You can refer to <a href=https://zzmzaw.github.io/posts/verifying-openpgp-signature/>the dedicated article about signature verification</a> for more details.<h3 id=download-the-official-image><a aria-label="Anchor link for: download-the-official-image" class="header-anchor no-hover-padding" href=#download-the-official-image><span aria-hidden=true class=link-icon></span></a> Download the official image</h3><p>The official image can be retrieved from <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/en/download/ target=_blank>https://guix.gnu.org/en/download/</a>.<p>It is built by the team maintaining Guix and is the base for any alternative images. It may be your preferred choice, except if you need non-free software for your network and you don't have any workaround.<p>Just pick up the last <code>guix-system-install</code> version for your architecture (both <code>x86_64</code> and <code>i686</code> are supported) with the associated signature file (same name with <code>.sig</code> added). At the time of writing, it is:<ul><li><a rel="noopener nofollow noreferrer" href=https://ftpmirror.gnu.org/gnu/guix/guix-system-install-1.4.0.x86_64-linux.iso target=_blank>https://ftpmirror.gnu.org/gnu/guix/guix-system-install-1.4.0.x86_64-linux.iso</a><li><a rel="noopener nofollow noreferrer" href=https://ftpmirror.gnu.org/gnu/guix/guix-system-install-1.4.0.x86_64-linux.iso.sig target=_blank>https://ftpmirror.gnu.org/gnu/guix/guix-system-install-1.4.0.x86_64-linux.iso.sig</a></ul><div class="admonition tip"><div class="admonition-icon admonition-icon-tip"></div><div class=admonition-content><strong class=admonition-title>Use the original repository</strong><p><a rel="noopener nofollow noreferrer" href=https://ftpmirror.gnu.org/gnu/guix/ target=_blank>https://ftpmirror.gnu.org/gnu/guix/</a> redirects you to the closest mirror.<br> If you have any doubt about the mirror trustworthiness from a privacy and/or security perspective or the way you download doesn't support redirections, just use <a rel="noopener nofollow noreferrer" href=https://ftp.gnu.org/gnu/guix/ target=_blank>https://ftp.gnu.org/gnu/guix/</a> instead.<br> This is the main repository provided by those maintaining Guix.</div></div><p>Once image and signature files are downloaded, you can try to verify the signature before importing the key:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>guix-system-install-1.4.0.x86_64-linux.iso.sig<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: assuming signed data in 'guix-system-install-1.4.0.x86_64-linux.iso'</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Signature made Sun Dec 18 22:09:26 2022 CET</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                using RSA key 3CE464558A84FDC69DB40CFB090B11993D9AEBB5</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Can't check signature: No public key</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Let's download the key as indicated in the <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/USB-Stick-and-DVD-Installation.html target=_blank>Guix System documentation</a>:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">wget</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>https://sv.gnu.org/people/viewgpg.php?user_id=15145<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>O</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>guix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>show-keys</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>guix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> pub   rsa4096 2014-08-11 [SC] [expires: 2025-04-11]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">>       3CE464558A84FDC69DB40CFB090B11993D9AEBB5</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Ludovic Courtès &LTludo@gnu.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Ludovic Courtès &LTludo@chbouib.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Ludovic Courtès (Inria) &LTludovic.courtes@inria.fr></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> sub   rsa4096 2014-08-11 [E]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Key fingerprint is the same, so this is the key which signed the image.<p>The key claims to be owned by Ludovic Courtès, but there is no way to confirm it through the documentation.<p>Searching <code>Ludovic Courtès</code> with your favorite search engine should lead you to his Inria page among the top results: <a rel="noopener nofollow noreferrer" href=https://people.bordeaux.inria.fr/lcourtes/ target=_blank>https://people.bordeaux.inria.fr/lcourtes/</a>.<p>Inria is the French National Institute for Research in Digital Science and Technology, and I would tend to trust it.<p>Ludovic Courtès provides his GPG key's fingerprint on his page, and it matches the one of the key just above:<div class=full-width><figure><img alt="The Inria page for Ludovic Courtès" loading=lazy src=img/ludovic-courtes-inria-page.webp><figcaption>The Inria page for Ludovic Courtès</figcaption></figure></div><p>Having two different sources pointing to the same key, I assume I can trust the key and so import it:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>import</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>guix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> </span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: key 090B11993D9AEBB5: 127 signatures not checked due to missing keys</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: key 090B11993D9AEBB5: public key "Ludovic Courtès &LTludo@gnu.org>" imported</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Total number processed: 1</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:               imported: 1</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: no ultimately trusted keys found</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Once the key is imported, we can now verify that the signature is valid:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>guix-system-install-1.4.0.x86_64-linux.iso.sig<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> </span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: assuming signed data in 'guix-system-install-1.4.0.x86_64-linux.iso'</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Signature made Sun Dec 18 22:09:26 2022 CET</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                using RSA key 3CE464558A84FDC69DB40CFB090B11993D9AEBB5</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Good signature from "Ludovic Courtès &LTludo@gnu.org>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                 aka "Ludovic Courtès &LTludo@chbouib.org>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                 aka "Ludovic Courtès (Inria) &LTludovic.courtes@inria.fr>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: WARNING: This key is not certified with a trusted signature!</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:          There is no indication that the signature belongs to the owner.</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> Primary key fingerprint: 3CE4 6455 8A84 FDC6 9DB4  0CFB 090B 1199 3D9A EBB5</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>The image has been verified successfully, and it is now possible to <a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#copy-image-to-usb-stick>copy it to the USB stick</a>.<h3 id=download-an-alternative-image><a aria-label="Anchor link for: download-an-alternative-image" class="header-anchor no-hover-padding" href=#download-an-alternative-image><span aria-hidden=true class=link-icon></span></a> Download an alternative image</h3><p>If the official image doesn't suit you for compatibility reasons, you can try to use the Nonguix one from <a rel="noopener nofollow noreferrer" href=https://gitlab.com/nonguix/nonguix/-/releases target=_blank>https://gitlab.com/nonguix/nonguix/-/releases</a>.<p>It is built by the team (or the one) maintaining Nonguix, and you'll end up using this repository for any non-free software anyway.<p>Just pick up the last <code>nonguix-system-install</code> version for your architecture (only <code>x86_64</code> is supported) with the associated signature file (same name with <code>.asc</code> added). At the time of writing, it is:<ul><li><a rel="noopener nofollow noreferrer" href=https://substitutes.nonguix.org/nonguix-system-install-1.4.0.x86_64-linux.iso target=_blank>https://substitutes.nonguix.org/nonguix-system-install-1.4.0.x86_64-linux.iso</a><li><a rel="noopener nofollow noreferrer" href=https://substitutes.nonguix.org/nonguix-system-install-1.4.0.x86_64-linux.iso.asc target=_blank>https://substitutes.nonguix.org/nonguix-system-install-1.4.0.x86_64-linux.iso.asc</a></ul><p>Once image and signature files are downloaded, you can try to verify the signature before importing the key:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-1.4.0.x86_64-linux.iso.asc<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: assuming signed data in 'nonguix-system-install-1.4.0.x86_64-linux.iso'</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Signature made Wed Dec 21 00:24:38 2022 CET</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                using RSA key 81416036E81A5CF78F801071ECFC83988B4E4B9F</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Can't check signature: No public key</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Let's download the key as indicated in the <a rel="noopener nofollow noreferrer" href=https://gitlab.com/nonguix/nonguix/-/releases/v1.4.0 target=_blank>Nonguix release page</a>:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">wget</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>https://gitlab.com/jonsger.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>O</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>show-keys</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> pub   rsa2048 2014-01-31 [SCA] [expires: 2025-01-28]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">>       81416036E81A5CF78F801071ECFC83988B4E4B9F</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Jonathan Brielmaier &LTj.brielmaier@pantherx.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Jonathan Brielmaier &LTjbrielmaier@opensuse.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      jonsger &LTjonathan.brielmaier@web.de></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> sub   rsa2048 2014-01-31 [E] [expires: 2025-01-28]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Key fingerprint is the same, so this is the key which signed the image.<p>The key claims to be owned by Jonathan Brielmaier, but there is no way to confirm it through the documentation.<p>Searching <code>Jonathan Brielmaier</code> didn't provide any insightful result, but searching <code>Jonathan Brielmaier gpg</code> should lead you to his page on Savanah: <a rel="noopener nofollow noreferrer" href=https://savannah.gnu.org/users/jonsger target=_blank>https://savannah.gnu.org/users/jonsger</a>.<p>This page allows downloading his GPG key, which matches the key just above:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">wget</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>https://savannah.gnu.org/people/viewgpg.php?user_id=223505<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>O</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-key2.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>show-keys</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-key2.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> pub   rsa2048 2014-01-31 [SCA] [expired: 2024-01-29]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">>       81416036E81A5CF78F801071ECFC83988B4E4B9F</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Jonathan Brielmaier &LTjbrielmaier@opensuse.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      jonsger &LTjonathan.brielmaier@web.de></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> uid                      Jonathan Brielmaier &LTj.brielmaier@pantherx.org></span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> sub   rsa2048 2014-01-31 [E] [expired: 2024-01-29]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Having two different sources pointing to the same key, I assume I can trust the key and so import it:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>import</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-key.gpg<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> </span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: key ECFC83988B4E4B9F: 2 signatures not checked due to missing keys</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: key ECFC83988B4E4B9F: public key "Jonathan Brielmaier &LTj.brielmaier@pantherx.org>" imported</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Total number processed: 1</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:               imported: 1</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: no ultimately trusted keys found</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>Once the key is imported, we can now verify that the signature is valid:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>nonguix-system-install-1.4.0.x86_64-linux.iso.asc<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: assuming signed data in 'nonguix-system-install-1.4.0.x86_64-linux.iso'</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Signature made Wed Dec 21 00:24:38 2022 CET</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                using RSA key 81416036E81A5CF78F801071ECFC83988B4E4B9F</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: Good signature from "Jonathan Brielmaier &LTj.brielmaier@pantherx.org>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                 aka "Jonathan Brielmaier &LTjbrielmaier@opensuse.org>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:                 aka "jonsger &LTjonathan.brielmaier@web.de>" [unknown]</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg: WARNING: This key is not certified with a trusted signature!</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> gpg:          There is no indication that the signature belongs to the owner.</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> Primary key fingerprint: 8141 6036 E81A 5CF7 8F80  1071 ECFC 8398 8B4E 4B9F</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>The image signature has been verified successfully, and it is now possible to <a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#copy-image-to-usb-stick>copy it to the USB stick</a>.<p>The only issue with this image is that it is refreshed only when a new Guix System version is released (which is not so often). As I said before, I preferred to go with the official image, so I am not sure how easy it is to install Guix System using this image and if there are impacts.<p>At the time of writing, there is also an important notice for the 1.4.0 release requiring to manually import Nonguix channels:<div class=full-width><figure><img alt="The important notice regarding Nonguix 1.4.0 release" loading=lazy src=img/nonguix-1.4.0-notice.webp><figcaption>The important notice regarding Nonguix 1.4.0 release</figcaption></figure></div><p>From tests I did, I was able to use this image raw without any configuration and the Wi-Fi adapter was working in the installer. Nevertheless, I didn't go further.<p>If you want to follow this path, I would advise looking at the following articles:<ul><li><a rel="noopener nofollow noreferrer" href=https://systemcrafters.net/craft-your-system-with-guix/full-system-install/ target=_blank>https://systemcrafters.net/craft-your-system-with-guix/full-system-install/</a><li><a rel="noopener nofollow noreferrer" href=https://wiki.systemcrafters.net/guix/nonguix-installation-guide/ target=_blank>https://wiki.systemcrafters.net/guix/nonguix-installation-guide/</a><li><a rel="noopener nofollow noreferrer" href=https://port19.xyz/tech/nonguix/ target=_blank>https://port19.xyz/tech/nonguix/</a></ul><p>It is worth mentioning that System Crafters provides an installation image based on nonguix and refreshed regularly. It is hosted at <a rel="noopener nofollow noreferrer" href=https://github.com/SystemCrafters/guix-installer target=_blank>https://github.com/SystemCrafters/guix-installer</a>, but I didn't check myself how it is built (not sure that I am able to anyway) and the image is not signed.<p>Whatever the installation image you choose, the next articles of this series should apply anyway, as all rely on the same Guix System.<h3 id=build-from-sources><a aria-label="Anchor link for: build-from-sources" class="header-anchor no-hover-padding" href=#build-from-sources><span aria-hidden=true class=link-icon></span></a> Build from sources</h3><p>This is a path I didn't walk through (at least not yet) but you can find useful explanations in the official documentation about <a rel="noopener nofollow noreferrer" href=https://guix.gnu.org/manual/en/html_node/Building-the-Installation-Image.html target=_blank>building the installation image</a>. As it requires Guix, you may need to first set up a live Guix System or install Guix on top of another Linux distribution.<p>Anyway, once the image has been generated, it is now possible to <a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#copy-image-to-usb-stick>copy it to the USB stick</a>.<h2 id=copy-image-to-usb-stick><a aria-label="Anchor link for: copy-image-to-usb-stick" class="header-anchor no-hover-padding" href=#copy-image-to-usb-stick><span aria-hidden=true class=link-icon></span></a> Copy the installation image to a USB stick</h2><p>First, you need to know the <em>device name</em> of your USB stick.<p>Usually, using <code>lsblk</code> is enough to identify your USB stick with following command:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">lsblk</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>o</span> name,vendor,model,size,type,tran</span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> NAME    VENDOR   MODEL       SIZE TYPE TRAN</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> sdX     SanDisk  Ultra Fit  57.3G disk usb</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> ├─sdX1                       1.4G part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> └─sdX2                       2.8M part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> xvda                          10G disk </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> ├─xvda1                      200M part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> ├─xvda2                        2M part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> └─xvda3                      9.8G part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> xvdb                           2G disk </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> xvdc                          12G disk </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> ├─xvdc1                        1G part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> └─xvdc3                       11G part </span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> xvdd                       526.4M disk</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>The USB stick I use is a 60G SanDisk Ultra Fit, so I know its <em>device name</em> is <code>sdX</code>. Beware yours may differ.<p>If it was impossible to identify the stick thanks to this command, it would be possible to use <code>dmesg</code>:<ol><li>Unplug the USB stick<li>Run the command <code>sudo dmesg --follow-new</code> to display all the upcoming message<li>Plug the USB stick</ol><p>Once plugged, you should retrieve messages similar to the following ones:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> dmesg<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>follow-new</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: new SuperSpeed USB device number 5 using xhci_hcd</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: New USB device found, idVendor=0781, idProduct=5583, bcdDevice= 1.00</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: Product: Ultra Fit</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: Manufacturer: SanDisk</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb 3-2: SerialNumber: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] usb-storage 3-2:1.0: USB Mass Storage device detected</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] scsi host2: usb-storage 3-2:1.0</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] scsi 2:0:0:0: Direct-Access     SanDisk  Ultra Fit        1.00 PQ: 0 ANSI: 6</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] scsi 2:0:0:0: Attached scsi generic sg0 type 0</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] sd 2:0:0:0: [sdX] 120176640 512-byte logical blocks: (61.5 GB/57.3 GiB)</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] sd 2:0:0:0: [sdX] Write Protect is off</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] sd 2:0:0:0: [sdX] Mode Sense: 43 00 00 00</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] sd 2:0:0:0: [sdX] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>]  sdX: sdX1 sdX2</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">> [ &LTtimestamp>] sd 2:0:0:0: [sdX] Attached SCSI removable disk</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre></div><p>We can extract the <em>device name</em> <code>sdX</code> from the messages.<p>With the <em>device name</em>, we can issue the following command to copy the image to the USB stick:<div class=full-width><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> dd if=/path/to/guix-image.iso of=/dev/sdX bs=4M status=progress oflag=sync</span>
</span></code></pre></div><p>Don't forget <code>oflag=sync</code> to make sure last bits are properly written to the stick (<em>flush</em>).<hr><ol class=footnotes-list><li id=fn-1><p><a rel="noopener nofollow noreferrer" href=https://www.gnu.org/philosophy/free-sw.en.html target=_blank>https://www.gnu.org/philosophy/free-sw.en.html</a> <a href=#fr-1-1>↩</a></p></ol></section><nav class="full-width article-navigation"><div><a aria-describedby=left_title aria-label=Prev href=https://zzmzaw.github.io/posts/verifying-openpgp-signature/><span class=arrow>←</span> Prev</a><p aria-hidden=true id=left_title>Verifying the OpenPGP signature of dowloaded files</div><div></div></nav></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=overlay for=toc-toggle></label><label title="Toggle Table of Contents" class=button for=toc-toggle id=toc-button><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#hardware-considerations>Hardware considerations</a> <ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#will-it-work-with-free-software-only>Will it work with free software only?</a></ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#preparation-of-the-installation-media>Preparation of the installation media</a> <ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#get-the-installation-image>Get the installation image</a> <ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#download-the-official-image>Download the official image</a><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#download-an-alternative-image>Download an alternative image</a><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#build-from-sources>Build from sources</a></ul><li><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/#copy-image-to-usb-stick>Copy the installation image to a USB stick</a></ul></ul></div></div></div><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://zzmzaw.github.io/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://zzmzaw.github.io/atom.xml target=_blank> <img alt=feed loading=lazy src=https://zzmzaw.github.io/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://github.com/ZzMzaw target=_blank> <img alt=github loading=lazy src=https://zzmzaw.github.io/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://gitlab.com/ZzMzaw target=_blank> <img alt=gitlab loading=lazy src=https://zzmzaw.github.io/social_icons/gitlab.svg title=gitlab> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://matrix.to/#/@zzmzaw:zzmzaw.dev target=_blank> <img alt=matrix loading=lazy src=https://zzmzaw.github.io/social_icons/matrix.svg title=matrix> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://discordapp.com/users/1199491352623337594 target=_blank> <img alt=discord loading=lazy src=https://zzmzaw.github.io/social_icons/discord.svg title=discord> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://www.root-me.org/ZzMzaw target=_blank> <img alt=rootme loading=lazy src=https://zzmzaw.github.io/social_icons/rootme.svg title=rootme> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://app.hackthebox.com/users/1823204 target=_blank> <img alt=hackthebox loading=lazy src=https://zzmzaw.github.io/social_icons/hackthebox.svg title=hackthebox> </a><li><a class="nav-links no-hover-padding social" href="https://news.ycombinator.com/user?id=zzmzaw" rel="noopener noreferrer me" target=_blank> <img alt=hacker-news loading=lazy src=https://zzmzaw.github.io/social_icons/hacker-news.svg title=hacker-news> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://www.reddit.com/user/ZzMzaw target=_blank> <img alt=reddit loading=lazy src=https://zzmzaw.github.io/social_icons/reddit.svg title=reddit> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://stackoverflow.com/users/23289335/zzmzaw target=_blank> <img alt=stack-overflow loading=lazy src=https://zzmzaw.github.io/social_icons/stack-overflow.svg title=stack-overflow> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://xdaforums.com/m/zzmzaw.11836937/ target=_blank> <img alt=xda loading=lazy src=https://zzmzaw.github.io/social_icons/xda.svg title=xda> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/about/> about </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/privacy/> privacy policy </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> <p><p><a rel="noopener nofollow noreferrer" href=https://zzmzaw.github.io target=_blank>ZzMzaw's blog</a> © 2025 by <a rel="noopener nofollow noreferrer" href=https://zzmzaw.github.io/about target=_blank>ZzMzaw</a> is licensed under <a rel="noopener nofollow noreferrer" href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank>CC BY-SA 4.0</a> <img alt="Creative Commons logo" src=/img/cc/cc.svg#cc> <img alt="Creative Commons By icon" src=/img/cc/by.svg#cc> <img alt="Creative Commons SA icon" src=/img/cc/sa.svg#cc></p> Powered by <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> & <a rel="noopener noreferrer" href=https://github.com/welpo/tabi target=_blank>tabi</a> • <a rel="noopener noreferrer" href=https://github.com/ZzMzaw/zzmzaw.github.io target=_blank> Site source </a></small></div></section><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>