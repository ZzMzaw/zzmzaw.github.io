<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://zzmzaw.github.io name=base><title>ZzMzaw's blog • A not-so-badly secure OS config</title><link title="ZzMzaw's blog - Atom Feed" href=https://zzmzaw.github.io/atom.xml rel=alternate type=application/atom+xml><link href="https://zzmzaw.github.io/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://zzmzaw.github.io/main.css?h=4a3dff148c520f191505" rel=stylesheet><link href="https://zzmzaw.github.io/misc.css?h=9b0f483dae9c0c16a211" rel=stylesheet><link href="https://zzmzaw.github.io/cc.css?h=47dd58492ac53967cae5" rel=stylesheet><link href="https://zzmzaw.github.io/series.css?h=e60f43ddd4c582055a83" rel=stylesheet><link href="https://zzmzaw.github.io/skins/lavender.css?h=31ee0a710ed660d122f6" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="This series describes how I moved from Qubes OS to a completely different OS while trying to maintain as many security properties as possible." name=description><meta content="This series describes how I moved from Qubes OS to a completely different OS while trying to maintain as many security properties as possible." property=og:description><meta content="ZzMzaw's blog" property=og:title><meta content=article property=og:type><meta content=fr_FR property=og:locale:alternate><link href=https://zzmzaw.github.io/fr/posts/a-not-so-badly-secure-os-config/ hreflang=fr rel=alternate><meta content=en_GB property=og:locale:alternate><link href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/ hreflang=en rel=alternate><meta content=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/ property=og:url><meta content="ZzMzaw's blog" property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self';connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://zzmzaw.github.io/no_js.css rel=stylesheet></noscript><script src=https://zzmzaw.github.io/js/initializeTheme.min.js></script><script defer src=https://zzmzaw.github.io/js/themeSwitcher.min.js></script><script src="https://zzmzaw.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://zzmzaw.github.io>ZzMzaw's blog</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/posts/> posts </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/archive/> archive </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/tags/> tags </a></li><div class=nav-navs id=menu-icons-group><li class=js><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class=language-switcher><details class=dropdown><summary aria-label="Language selection" title="Language selection" aria-haspopup=true role=button><div class=language-switcher-icon></div></summary> <div class=dropdown-content role=menu>English<a aria-label=Français href=https://zzmzaw.github.io/fr/posts/a-not-so-badly-secure-os-config/ lang=fr role=menuitem>Français</a></div></details><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></div></ul></div></nav></header><div class=content><main><div class="title-with-jump bottom-divider"><h1 class="title-container section-title">A not-so-badly secure OS config</h1><a class=jump-link href=#posts-list>Jump to posts ↓</a></div><section class=body><p>Since several years now, I use Qubes OS (<a rel="noopener nofollow noreferrer" href=https://www.qubes-os.org/ target=_blank>https://www.qubes-os.org/</a>). It is an awesome general-purpose operating system, one of the most secure I was able to try and one I enjoyed using on a daily basis for all those years. It really fits my basic needs such as browsing and coding. Gaming might be a bit more challenging, but I didn't need it.<p>Anyway, using Qubes OS when having strong security requirements is a no-brainer to me.<p>After running it for a while, I realized that it might be a bit too much to cover my current threat model in regard to the constraints it involves. The most annoying ones for me are the memory consumption and the fact it is complex to generate and configure my qubes <sup class=footnote-reference id=fr-1-1><a href=#fn-1>[1]</a></sup>.<p>Regarding the former, I am usually doing several things in parallel, such as looking at bank accounts while browsing something for the house during a never ending coding session. As all of this involves different security contexts, it takes place in different qubes and I often have to stop a qube in order to start another one due to lack of memory. 8GB of RAM is definitively not enough for basic needs.<p>Regarding the latter, I tried to play with SaltStack which is natively integrated within Qubes OS. Nevertheless, it has limitations such as splitting qube creation from qube configuration and limited reuse, it involves interacting with dom0 <sup class=footnote-reference id=fr-2-1><a href=#fn-2>[2]</a></sup> and have OS packages mostly tied to Fedora or Debian. In addition, it requires a lot of maintenance, qubes generation are hard to reproduce and bugs are hard to fix because dom0 slowly evolves by design <sup class=footnote-reference id=fr-3-1><a href=#fn-3>[3]</a></sup>.<p>The objective of this series is to find a fully declarative and reproducible way to configure a rather secure Linux laptop.<p>Let's be honest, it is also a pretext to play a bit more with current open source operating systems.<p>For sure, I might not be able to mitigate as many risks as Qubes OS does, but I might not need it as well.<hr><ol class=footnotes-list><li id=fn-1><p>A qube is an isolated compartment in Qubes OS, so far implemented as a virtual machine in a Xen-based virtualization. <a href=#fr-1-1>↩</a></p><li id=fn-2><p>dom0 is the most trusted zone in Qubes OS and you should not mess up with. Having dom0 compromised means the entire system is compromised. <a href=#fr-2-1>↩</a></p><li id=fn-3><p>As dom0 is the most trusted zone in Qubes OS, frequent OS updates can be a threat and dom0 will generally rely on an old Fedora version (see <a rel="noopener nofollow noreferrer" href=https://www.qubes-os.org/doc/supported-releases/#note-on-dom0-and-eol target=_blank>Qubes OS documentation</a> for more details) <a href=#fr-3-1>↩</a></p></ol></section><div id=posts-list><h2 class=bottom-divider>All posts</h2><div class=bloglist-container><section class="bloglist-meta bottom-divider"><ul><li class=index-label>1</ul></section><section class="bloglist-content bottom-divider"><div><h2 class=bloglist-title><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/01-choosing-the-os/>Choosing an OS according to expectations and security threats</a></h2><div class=bloglist-tags><a class=tag href=https://zzmzaw.github.io/tags/os/>os</a><a class=tag href=https://zzmzaw.github.io/tags/guix/>guix</a><a class=tag href=https://zzmzaw.github.io/tags/nix/>nix</a><a class=tag href=https://zzmzaw.github.io/tags/security/>security</a></div><div class=description><p>A quick definition of my expectations and threats regarding operating systems and the choice of the one that might best meet them, at least on paper</div><a class=readmore href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/01-choosing-the-os/>Read more <span class=arrow>→</span></a></div></section><section class=bloglist-meta><ul><li class=index-label>2</ul></section><section class=bloglist-content><div><h2 class=bloglist-title><a href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/>Preparing for Guix System installation</a></h2><div class=bloglist-tags><a class=tag href=https://zzmzaw.github.io/tags/os/>os</a><a class=tag href=https://zzmzaw.github.io/tags/guix/>guix</a></div><div class=description><p>How to be ready to install Guix System on a laptop, from checking hardware to preparing the installation media</div><a class=readmore href=https://zzmzaw.github.io/posts/a-not-so-badly-secure-os-config/02-preparing-guix-system-installation/>Read more <span class=arrow>→</span></a></div></section></div></div></main><div id=button-container><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://zzmzaw.github.io/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://zzmzaw.github.io/atom.xml target=_blank> <img alt=feed loading=lazy src=https://zzmzaw.github.io/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://github.com/ZzMzaw target=_blank> <img alt=github loading=lazy src=https://zzmzaw.github.io/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://gitlab.com/ZzMzaw target=_blank> <img alt=gitlab loading=lazy src=https://zzmzaw.github.io/social_icons/gitlab.svg title=gitlab> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://matrix.to/#/@zzmzaw:zzmzaw.dev target=_blank> <img alt=matrix loading=lazy src=https://zzmzaw.github.io/social_icons/matrix.svg title=matrix> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://discordapp.com/users/1199491352623337594 target=_blank> <img alt=discord loading=lazy src=https://zzmzaw.github.io/social_icons/discord.svg title=discord> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://www.root-me.org/ZzMzaw target=_blank> <img alt=rootme loading=lazy src=https://zzmzaw.github.io/social_icons/rootme.svg title=rootme> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://app.hackthebox.com/users/1823204 target=_blank> <img alt=hackthebox loading=lazy src=https://zzmzaw.github.io/social_icons/hackthebox.svg title=hackthebox> </a><li><a class="nav-links no-hover-padding social" href="https://news.ycombinator.com/user?id=zzmzaw" rel="noopener noreferrer me" target=_blank> <img alt=hacker-news loading=lazy src=https://zzmzaw.github.io/social_icons/hacker-news.svg title=hacker-news> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://www.reddit.com/user/ZzMzaw target=_blank> <img alt=reddit loading=lazy src=https://zzmzaw.github.io/social_icons/reddit.svg title=reddit> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://stackoverflow.com/users/23289335/zzmzaw target=_blank> <img alt=stack-overflow loading=lazy src=https://zzmzaw.github.io/social_icons/stack-overflow.svg title=stack-overflow> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://xdaforums.com/m/zzmzaw.11836937/ target=_blank> <img alt=xda loading=lazy src=https://zzmzaw.github.io/social_icons/xda.svg title=xda> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/about/> about </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/privacy/> privacy policy </a><li><a class="nav-links no-hover-padding" href=https://zzmzaw.github.io/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> <p><p><a rel="noopener nofollow noreferrer" href=https://zzmzaw.github.io target=_blank>ZzMzaw's blog</a> © 2025 by <a rel="noopener nofollow noreferrer" href=https://zzmzaw.github.io/about target=_blank>ZzMzaw</a> is licensed under <a rel="noopener nofollow noreferrer" href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank>CC BY-SA 4.0</a> <img alt="Creative Commons logo" src=/img/cc/cc.svg#cc> <img alt="Creative Commons By icon" src=/img/cc/by.svg#cc> <img alt="Creative Commons SA icon" src=/img/cc/sa.svg#cc></p> Powered by <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> & <a rel="noopener noreferrer" href=https://github.com/welpo/tabi target=_blank>tabi</a> • <a rel="noopener noreferrer" href=https://github.com/ZzMzaw/zzmzaw.github.io target=_blank> Site source </a></small></div></section><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>